<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Threat Detection System</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
</head>
<body>
    <!-- Navigation -->
    <!-- Navigation -->
<nav class="navbar">
    <div class="nav-container">
        <div class="nav-logo">
            <i class="fas fa-shield-alt"></i>
            <span>AI Threat Detection</span>
        </div>
        <div class="nav-status">
            <span class="status-indicator" id="systemStatus">
                <i class="fas fa-circle"></i>
                System Healthy
            </span>
        </div>
    </div>
</nav>


    <!-- Main Content -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-menu">
                <a href="#dashboard" class="menu-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
                <a href="#detection" class="menu-item" data-section="detection">
                    <i class="fas fa-search"></i>
                    Threat Detection
                </a>
                <a href="#analytics" class="menu-item" data-section="analytics">
                    <i class="fas fa-chart-line"></i>
                    Analytics
                </a>
                <a href="#alerts" class="menu-item" data-section="alerts">
                    <i class="fas fa-bell"></i>
                    Alerts
                </a>
                <a href="#logs" class="menu-item" data-section="logs">
                    <i class="fas fa-list"></i>
                    Threat Logs
                </a>
                <a href="#settings" class="menu-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    Settings
                </a>
            </div>
        </aside>

        <!-- Content Area -->
        <main class="content">
            

            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <div class="section-header">
                    <h1>Dashboard</h1>
                    <p>Real-time threat detection and system monitoring</p>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalThreats">0</h3>
                            <p>Total Threats</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="activeAlerts">0</h3>
                            <p>Active Alerts</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="threatsToday">0</h3>
                            <p>Threats Today</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="avgResponse">0ms</h3>
                            <p>Avg Response</p>
                        </div>
                    </div>
                </div>

                <!-- Real-time Threat Feed -->
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3>Live Threat Feed</h3>
                            <button class="btn-refresh" onclick="refreshThreatFeed()">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <div class="card-content">
                            <div id="threatFeed" class="threat-feed">
                                <div class="feed-item">
                                    <div class="feed-icon">
                                        <i class="fas fa-info-circle"></i>
                                    </div>
                                    <div class="feed-content">
                                        <p>System ready. Waiting for threats...</p>
                                        <span class="feed-time">Just now</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>System Health</h3>
                        </div>
                        <div class="card-content">
                            <div id="systemHealth" class="health-grid">
                                <div class="health-item">
                                    <span class="health-label">Threat Detection</span>
                                    <span class="health-status healthy">Healthy</span>
                                </div>
                                <div class="health-item">
                                    <span class="health-label">Alert System</span>
                                    <span class="health-status healthy">Healthy</span>
                                </div>
                                <div class="health-item">
                                    <span class="health-label">Performance</span>
                                    <span class="health-status healthy">Healthy</span>
                                </div>
                                <div class="health-item">
                                    <span class="health-label">Data Processing</span>
                                    <span class="health-status healthy">Healthy</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Threat Detection Section -->
            <section id="detection" class="section">
                <div class="section-header">
                    <h1>Threat Detection</h1>
                    <p>Analyze network traffic and system logs for potential threats</p>
                </div>

                <div class="detection-container">
                    <!-- Input Form -->
                    <div class="card">
                        <div class="card-header">
                            <h3>Traffic Analysis</h3>
                        </div>
                        <div class="card-content">
                            <form id="threatDetectionForm">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <input type="text" id="sourceIp" placeholder=" " value="192.168.1.100" required>
                                        <label for="sourceIp">Source IP (e.g., 192.168.1.100)</label>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" id="destIp" placeholder=" " value="10.0.0.1" required>
                                        <label for="destIp">Destination IP (e.g., 10.0.0.1)</label>
                                    </div>
                                    <div class="form-group">
                                        <input type="number" id="port" placeholder=" " value="80" required>
                                        <label for="port">Port (e.g., 80)</label>
                                    </div>
                                    <div class="form-group">
                                        <select id="protocol" required>
                                            <option value="">Select Protocol</option>
                                            <option value="http">HTTP</option>
                                            <option value="https">HTTPS</option>
                                            <option value="ssh">SSH</option>
                                            <option value="ftp">FTP</option>
                                            <option value="smtp">SMTP</option>
                                        </select>
                                        <label for="protocol">Protocol</label>
                                    </div>
                                    <div class="form-group full-width">
                                        <input type="text" id="userAgent" placeholder=" " value="sqlmap/1.0" required>
                                        <label for="userAgent">User Agent (e.g., Mozilla/5.0...)</label>
                                    </div>
                                    <div class="form-group full-width">
                                        <input type="text" id="url" placeholder=" " value="http://example.com/admin?id=1' OR '1'='1" required>
                                        <label for="url">URL/Request (e.g., http://example.com/admin?id=1)</label>
                                    </div>
                                    <div class="form-group full-width">
                                        <textarea id="message" placeholder=" "></textarea>
                                        <label for="message">Message/Log (optional)</label>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-search"></i>
                                        Analyze for Threats
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="loadSampleData()">
                                        <i class="fas fa-magic"></i>
                                        Load Sample Data
                                    </button>
                                    <button type="button" class="btn btn-outline" onclick="clearForm()">
                                        <i class="fas fa-eraser"></i>
                                        Clear
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Results -->
                    <div class="card" id="resultsCard" style="display: none;">
                        <div class="card-header">
                            <h3>Detection Results</h3>
                            <span class="results-badge" id="resultsBadge">0 Threats</span>
                        </div>
                        <div class="card-content">
                            <div id="detectionResults" class="results-container">
                                <!-- Results will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="section">
                <div class="section-header">
                    <h1>Analytics</h1>
                    <p>Threat statistics and system performance metrics</p>
                </div>

                <div class="analytics-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3>Threat Distribution</h3>
                        </div>
                        <div class="card-content">
                            <canvas id="threatChart" width="400" height="300"></canvas>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Severity Breakdown</h3>
                        </div>
                        <div class="card-content">
                            <canvas id="severityChart" width="400" height="300"></canvas>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Real-time Metrics</h3>
                        </div>
                        <div class="card-content">
                            <div id="realTimeMetrics" class="metrics-grid">
                                <div class="metric-item">
                                    <span class="metric-label">Threats/Minute</span>
                                    <span class="metric-value" id="threatsPerMinute">0</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Requests/Minute</span>
                                    <span class="metric-value" id="requestsPerMinute">0</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Avg Confidence</span>
                                    <span class="metric-value" id="avgConfidence">0%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">System Uptime</span>
                                    <span class="metric-value" id="systemUptime">100%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Performance Trends</h3>
                        </div>
                        <div class="card-content">
                            <canvas id="performanceChart" width="400" height="300"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Alerts Section -->
            <section id="alerts" class="section">
                <div class="section-header">
                    <h1>Alerts</h1>
                    <p>Security alerts and notifications</p>
                </div>

                <div class="alerts-container">
                    <div class="card">
                        <div class="card-header">
                            <h3>Recent Alerts</h3>
                            <div class="alert-filters">
                                <select id="alertSeverityFilter">
                                    <option value="">All Severities</option>
                                    <option value="low">Low</option>
                                    <option value="medium">Medium</option>
                                    <option value="high">High</option>
                                    <option value="critical">Critical</option>
                                </select>
                                <button class="btn btn-outline" onclick="refreshAlerts()">
                                    <i class="fas fa-sync-alt"></i>
                                    Refresh
                                </button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div id="alertsList" class="alerts-list">
                                <!-- Alerts will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Threat Logs Section -->
            <section id="logs" class="section">
                <div class="section-header">
                    <h1>Threat Logs</h1>
                    <p>Detailed threat detection history</p>
                </div>

                <div class="logs-container">
                    <div class="card">
                        <div class="card-header">
                            <h3>Threat History</h3>
                                                    <div class="log-filters">
                            <input type="text" id="logSearch" placeholder="Search threats...">
                            <select id="logSeverityFilter">
                                <option value="">All Severities</option>
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                                <option value="critical">Critical</option>
                            </select>
                            <button class="btn btn-outline" onclick="refreshLogs()">
                                <i class="fas fa-sync-alt"></i>
                                Refresh
                            </button>
                            <!-- <button class="btn btn-warning" onclick="showBulkDeleteModal()">
                                <i class="fas fa-trash-alt"></i>
                                Bulk Delete
                            </button>
                            <button class="btn btn-danger" onclick="clearAllThreats()">
                                <i class="fas fa-trash"></i>
                                Clear All
                            </button> -->
                        </div>
                        </div>
                        <div class="card-content">
                            <div id="threatsList" class="threats-list">
                                <!-- Threat logs will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="section">
                <div class="section-header">
                    <h1>Settings</h1>
                    <p>System configuration and preferences</p>
                </div>

                <div class="settings-container">
                    <div class="card">
                        <div class="card-header">
                            <h3>System Configuration</h3>
                        </div>
                        <div class="card-content">
                            <form id="settingsForm">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <input type="text" id="apiUrl" value="http://localhost:5000" placeholder=" " required>
                                        <label for="apiUrl">API URL (e.g., http://localhost:5000)</label>
                                    </div>
                                    <div class="form-group">
                                        <input type="number" id="refreshInterval" value="30" min="5" max="300" placeholder=" " required>
                                        <label for="refreshInterval">Refresh Interval (seconds)</label>
                                    </div>
                                    <div class="form-group">
                                        <input type="number" id="maxLogs" value="100" min="10" max="1000" placeholder=" " required>
                                        <label for="maxLogs">Max Logs to Display</label>
                                    </div>
                                    <div class="form-group">
                                        <select id="autoRefresh" required>
                                            <option value="true">Enabled</option>
                                            <option value="false">Disabled</option>
                                        </select>
                                        <label for="autoRefresh">Auto Refresh</label>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save"></i>
                                        Save Settings
                                    </button>
                                    <button type="button" class="btn btn-outline" onclick="resetSettings()">
                                        <i class="fas fa-undo"></i>
                                        Reset to Defaults
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>System Information</h3>
                        </div>
                        <div class="card-content">
                            <div id="systemInfo" class="system-info">
                                <div class="info-item">
                                    <span class="info-label">Version:</span>
                                    <span class="info-value" id="systemVersion">1.0.0</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Status:</span>
                                    <span class="info-value" id="systemStatusValue">Healthy</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Last Updated:</span>
                                    <span class="info-value" id="lastUpdated">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">API Endpoint:</span>
                                    <span class="info-value" id="apiEndpoint">http://localhost:5000</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Processing...</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html> 